<!doctype html>
<html lang="en-us">
  <!-- Head -->
  <head>
    <link rel="stylesheet" href="/jekyll-archives-v2/assets/css/style.css">
    <link defer rel="stylesheet" href="/jekyll-archives-v2/assets/css/jekyll-pygments-themes-native.css" media="">
    <script>
      initTheme();
    </script>
  </head>

  <!-- Body -->
  <body>
    <a href="https://github.com/george-gca/jekyll-archives-v2" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <h1 id="jekyll-archives-v2">jekyll-archives-v2</h1>

<p>This plugin enables to automatically generate collections archives by dates or by any other <code class="language-plaintext highlighter-rouge">Array</code> attribute, like tags and categories.</p>

<p>Here you can see the resulting archives pages:</p>
<ul>
  <li>books
    <ul>
      <li>by year: <a href="/jekyll-archives-v2/books/2024/">2024</a></li>
      <li>by tags: <a href="/jekyll-archives-v2/books/tag/tag1">tag1</a>, <a href="/jekyll-archives-v2/books/tag/tag2">tag2</a></li>
      <li>by categories: <a href="/jekyll-archives-v2/books/category/category1">category1</a>, <a href="/jekyll-archives-v2/books/category/category2">category2</a></li>
    </ul>
  </li>
  <li>posts
    <ul>
      <li>by year: <a href="/jekyll-archives-v2/blog/2024/">2024</a></li>
      <li>by tags: <a href="/jekyll-archives-v2/blog/tag/tag1">tag1</a>, <a href="/jekyll-archives-v2/blog/tag/tag2">tag2</a></li>
      <li>by categories: <a href="/jekyll-archives-v2/blog/category/category1">category1</a>, <a href="/jekyll-archives-v2/blog/category/category2">category2</a></li>
    </ul>
  </li>
</ul>

<h2 id="installation">Installation</h2>

<ol>
  <li>Add <code class="language-plaintext highlighter-rouge">gem 'jekyll-archives-v2'</code> to your site’s Gemfile</li>
  <li>Add the following to your site’s <code class="language-plaintext highlighter-rouge">_config.yml</code>:</li>
</ol>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">plugins</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">jekyll-archives-v2</span>
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>Suppose you have a collection called <code class="language-plaintext highlighter-rouge">books</code> and also your blog posts, and you want to generate archives by date, tags, and categories, like in the example above. You can do this by adding the following to your site’s <code class="language-plaintext highlighter-rouge">_config.yml</code>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># adding the books collection. Note that jekyll already generates the posts collection</span>
<span class="na">collections</span><span class="pi">:</span>
  <span class="na">books</span><span class="pi">:</span>
    <span class="na">output</span><span class="pi">:</span> <span class="kc">true</span>

<span class="na">jekyll-archives</span><span class="pi">:</span>
  <span class="na">books</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">year</span><span class="pi">,</span> <span class="nv">tags</span><span class="pi">,</span> <span class="nv">categories</span><span class="pi">]</span>
  <span class="na">posts</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">year</span><span class="pi">,</span> <span class="nv">tags</span><span class="pi">,</span> <span class="nv">categories</span><span class="pi">]</span>
    <span class="na">permalinks</span><span class="pi">:</span> <span class="c1"># in this case, we wanted to replace /posts/ by /blog/</span>
      <span class="na">year</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/blog/:year/"</span>
      <span class="na">tags</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/blog/:type/:name/"</span>
      <span class="na">categories</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/blog/:type/:name/"</span>
</code></pre></div></div>

<p>By default, the plugin will look for a layout called <code class="language-plaintext highlighter-rouge">archive</code> in the <code class="language-plaintext highlighter-rouge">_layouts</code> directory. In this layout, the plugin will render the archive’s content. In our example, we will use the same layout for all archives.</p>

<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;div&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'categories'</span><span class="w"> </span><span class="cp">%}</span>
    &lt;h2&gt;an archive of <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">collection_name</span><span class="w"> </span><span class="cp">}}</span> in <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span> category&lt;/h2&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">elsif</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'year'</span><span class="w"> </span><span class="cp">%}</span>
    &lt;h2&gt;an archive of <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">collection_name</span><span class="w"> </span><span class="cp">}}</span> from <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s1">'%Y'</span><span class="w"> </span><span class="cp">}}</span>&lt;/h2&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">elsif</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'tags'</span><span class="w"> </span><span class="cp">%}</span>
    &lt;h2&gt;an archive of <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">collection_name</span><span class="w"> </span><span class="cp">}}</span> with <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">type</span><span class="w"> </span><span class="cp">}}</span> <span class="cp">{{</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>&lt;/h2&gt;
  <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>

  &lt;table&gt;
    <span class="cp">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span><span class="nv">document</span><span class="w"> </span><span class="nt">in</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">documents</span><span class="w"> </span><span class="cp">%}</span>
      &lt;tr&gt;
        &lt;th&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">document</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s1">'%b %d, %Y'</span><span class="w"> </span><span class="cp">}}</span>&lt;/th&gt;
        &lt;td&gt;
          &lt;a href="<span class="cp">{{</span><span class="w"> </span><span class="nv">document</span><span class="p">.</span><span class="nv">url</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">relative_url</span><span class="w"> </span><span class="cp">}}</span>"&gt;<span class="cp">{{</span><span class="w"> </span><span class="nv">document</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="cp">}}</span>&lt;/a&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    <span class="cp">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="cp">%}</span>
  &lt;/table&gt;
&lt;/div&gt;
</code></pre></div></div>

<h2 id="configuration">Configuration</h2>

<p>Default configuration:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jekyll-archives</span><span class="pi">:</span>
  <span class="na">posts</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="pi">[]</span>
    <span class="na">layout</span><span class="pi">:</span> <span class="s">archive</span>
    <span class="na">permalinks</span><span class="pi">:</span>
      <span class="na">year</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/:collection/:year/'</span>
      <span class="na">month</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/:collection/:year/:month/'</span>
      <span class="na">day</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/:collection/:year/:month/:day/'</span>
      <span class="na">tags</span><span class="pi">:</span> <span class="s1">'</span><span class="s">/:collection/:type/:name/'</span>
</code></pre></div></div>

<p>This default configuration is generated per collection. You can customize the configuration for each collection individually by adding the collection name as a key inside <code class="language-plaintext highlighter-rouge">jekyll-archives</code>. For example, to customize the configuration for the <code class="language-plaintext highlighter-rouge">books</code> collection and the <code class="language-plaintext highlighter-rouge">posts</code>, you can do it like this:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jekyll-archives</span><span class="pi">:</span>
  <span class="na">books</span><span class="pi">:</span>
    <span class="s">...</span>
  <span class="na">posts</span><span class="pi">:</span>
    <span class="s">...</span>
</code></pre></div></div>

<p>Each collection configuration can have the following options.</p>

<h3 id="enabled">enabled</h3>

<p>An array of the archive types you want to generate. The available types are <code class="language-plaintext highlighter-rouge">year</code>, <code class="language-plaintext highlighter-rouge">month</code>, <code class="language-plaintext highlighter-rouge">day</code>, and any other Array attribute that your collection might have, like <code class="language-plaintext highlighter-rouge">tags</code>. Note that this attribute have to be defined in the <a href="https://jekyllrb.com/docs/front-matter/">front matter</a> of every document in your collection, for example, <code class="language-plaintext highlighter-rouge">tags: tag1 tag2</code>. If you want to support every option, you can set <code class="language-plaintext highlighter-rouge">enabled: true</code> or <code class="language-plaintext highlighter-rouge">enabled: 'all'</code>.</p>

<h3 id="layout-or-layouts">layout or layouts</h3>

<p>The layout that the plugin will use to render the archive’s content. The default value is <code class="language-plaintext highlighter-rouge">layout: archive</code>, meaning that it will look for any file with the name <code class="language-plaintext highlighter-rouge">archive</code> in the <code class="language-plaintext highlighter-rouge">_layouts/</code> directory. This layout can have any extension, for example <code class="language-plaintext highlighter-rouge">archive.html</code> or <code class="language-plaintext highlighter-rouge">archive.liquid</code>. You can also set a different layout for each archive type by using the <code class="language-plaintext highlighter-rouge">layouts</code> option instead of <code class="language-plaintext highlighter-rouge">layout</code>. For example:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">jekyll-archives</span><span class="pi">:</span>
  <span class="na">books</span><span class="pi">:</span>
    <span class="na">layouts</span><span class="pi">:</span>
      <span class="na">year</span><span class="pi">:</span> <span class="s">year-archive</span>
      <span class="na">month</span><span class="pi">:</span> <span class="s">month-archive</span>
      <span class="na">day</span><span class="pi">:</span> <span class="s">day-archive</span>
      <span class="na">category</span><span class="pi">:</span> <span class="s">category-archive</span>
      <span class="na">tag</span><span class="pi">:</span> <span class="s">tag-archive</span>
</code></pre></div></div>

<p>These layouts works as any other Jekyll layout, except that they will receive the following extra or modified variables:</p>

<h4 id="title-pagetitle">title (<code class="language-plaintext highlighter-rouge">page.title</code>)</h4>

<p>The name of the archive if it is created from an Array attribute, like tags. For example, if the archive is for the tag <code class="language-plaintext highlighter-rouge">examples</code>, the title will be <code class="language-plaintext highlighter-rouge">examples</code>. For date-based archives (year, month, and day), this attribute is <code class="language-plaintext highlighter-rouge">nil</code>.</p>

<h4 id="date-pagedate">date (<code class="language-plaintext highlighter-rouge">page.date</code>)</h4>

<p>In the case of a date archive, this attribute contains a Date object that can be used to present the date header of the archive in a suitable format. For year archives, the month and day components of the Date object passed to Liquid should be neglected; similarly, for month archives, the day component should be neglected. We recommend using the <a href="https://shopify.dev/docs/api/liquid/filters/date">date filter</a> in Liquid to process the Date objects. For tag and category archives, this field is <code class="language-plaintext highlighter-rouge">nil</code>.</p>

<h4 id="collection_name-pagecollection_name">collection_name (<code class="language-plaintext highlighter-rouge">page.collection_name</code>)</h4>

<p>The name of the collection that the archive is generated from. For example, if the archive is generated from the <code class="language-plaintext highlighter-rouge">books</code> collection, this attribute will be <code class="language-plaintext highlighter-rouge">books</code>.</p>

<h4 id="documents-pagedocuments">documents (<code class="language-plaintext highlighter-rouge">page.documents</code>)</h4>

<p>This is an array of Jekyll documents that are part of the archive. You can use this array to list the documents in the current archive, iterating through them with <code class="language-plaintext highlighter-rouge">{% for document in page.documents %}</code>.</p>

<h4 id="type-pagetype">type (<code class="language-plaintext highlighter-rouge">page.type</code>)</h4>

<p>This attribute contains a simple string indicating the type of the layout being generated. Its value can be one of <code class="language-plaintext highlighter-rouge">year</code>, <code class="language-plaintext highlighter-rouge">month</code>, <code class="language-plaintext highlighter-rouge">day</code>, or any other Array attribute that it was enabled for this collection. When not date-based, this string will be a singularized version of the attribute name. For example, if the archive is generated from the <code class="language-plaintext highlighter-rouge">tags</code> attribute, this attribute will be <code class="language-plaintext highlighter-rouge">tag</code>. The singularization of the attribute name is handled by the <a href="https://www.rubydoc.info/gems/activesupport/String:singularize">singularize</a> method from the ActiveSupport gem.</p>

<h3 id="permalinks">permalinks</h3>

<p>Maps archive types to the permalink format used for archive pages. The permalink style is the same as regular Jekyll posts and pages, but with different variables.</p>

<p>These variables are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">:collection</code> for the collection name (e.g., <code class="language-plaintext highlighter-rouge">books</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:type</code> for the archive type, singularized (e.g., <code class="language-plaintext highlighter-rouge">tag</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:year</code> for year archives (e.g., <code class="language-plaintext highlighter-rouge">2024</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:year</code> and <code class="language-plaintext highlighter-rouge">:month</code> for month archives (e.g. <code class="language-plaintext highlighter-rouge">2024</code> and <code class="language-plaintext highlighter-rouge">01</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:year</code>, <code class="language-plaintext highlighter-rouge">:month</code>, and <code class="language-plaintext highlighter-rouge">:day</code> for day archives (e.g. <code class="language-plaintext highlighter-rouge">2024</code>, <code class="language-plaintext highlighter-rouge">01</code>, and <code class="language-plaintext highlighter-rouge">31</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:name</code> for Array attributes, like categories and tags archives (e.g., <code class="language-plaintext highlighter-rouge">sample-tag</code>)</li>
</ul>

<blockquote>
  <p>Note: trailing slashes are required to create the archive as an <code class="language-plaintext highlighter-rouge">index.html</code> file of a directory, as in <code class="language-plaintext highlighter-rouge">/:collection/:type/:name/</code>.</p>
</blockquote>

  </body>
</html>
